{"ast":null,"code":"var _jsxFileName = \"/Users/michaelofengenden/Desktop/Aula/app/src/CourseMap.js\",\n  _s = $RefreshSig$();\nimport React, { useEffect } from 'react';\nimport './CourseMap.css';\nimport * as d3 from 'd3';\nimport { schemeSet2 } from 'd3-scale-chromatic';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst CourseMap = () => {\n  _s();\n  useEffect(() => {\n    renderd3(\"Core,AI/ML,Theory\");\n  }, []);\n  const action = group => {\n    const urlParams = new URLSearchParams(window.location.search);\n    let groups = urlParams.get(\"groups\");\n    if (!groups) {\n      groups = \"Core\";\n    }\n    groups = groups.split(\",\");\n    const checkbox = document.getElementById(group);\n    if (checkbox.checked) {\n      groups.push(group);\n    } else {\n      const index = groups.indexOf(group);\n      if (index > -1) {\n        groups.splice(index, 1);\n      }\n    }\n    groups = groups.join();\n    if (window.history.pushState) {\n      const newurl = `${window.location.origin}${window.location.pathname}?groups=${groups}`;\n      window.history.replaceState({\n        path: newurl\n      }, \"\", newurl);\n    }\n    window.location.reload();\n  };\n  const svg = d3.select(\".graph\");\n  const title_circle_radius = 20;\n  const circle_radius = 10;\n  const color = d3.scaleOrdinal(d3.schemeCategory10);\n  const node_stroke = \"white\";\n  const node_stroke_width = 1.5;\n  const height = 600;\n  const width = 800;\n  const renderd3 = groups => {\n    d3.json(\"/studentservices/course_guide_data?groups=\" + groups, function (error, graph) {\n      if (error) throw error;\n      var link = svg.append(\"g\").attr(\"class\", \"links\").selectAll(\"line\").data(graph.links).enter().append(\"line\").attr(\"stroke-width\", 2);\n      var node = svg.append(\"g\").attr(\"class\", \"nodes\").selectAll(\"g\").data(graph.nodes).enter().append(\"g\");\n\n      // Create the line after the nodes are rendered, dynamic to Node size\n      svg.selectAll(\"line\").attr(\"marker-end\", function (l) {\n        let found_node = node.filter(n => n.id == l.target && n.title);\n        if (found_node._groups[0].length > 0) {\n          return \"url(#end_title)\";\n        }\n        return \"url(#end)\";\n      });\n      var circles = node.append(\"circle\").attr(\"r\", function (d) {\n        return d.title ? title_circle_radius : circle_radius;\n      }).attr(\"fill\", function (d) {\n        return color(d.group);\n      }).attr(\"stroke\", node_stroke).attr(\"stroke-width\", node_stroke_width);\n      var simulation = d3.forceSimulation().force(\"link\", d3.forceLink().id(function (d) {\n        return d.id;\n      }).distance(200).strength(function (l) {\n        let found_node = graph.nodes.filter(n => n.id == l.source.id && n.title);\n        let found_links = graph.links.filter(function (l2) {\n          if (l2.target.id == l.target.id) {\n            let found_node = graph.nodes.filter(n => n.id == l2.source.id && n.title);\n            return found_node.length == 1;\n          }\n          return false;\n        });\n        if (found_node.length == 1 && found_links.length == 1) {\n          return 7;\n        }\n        return 2;\n      })).force(\"charge\", d3.forceManyBody().strength(-200)).force(\"collision\", d3.forceCollide().radius(function (d) {\n        return d.title ? title_circle_radius : circle_radius;\n      })).force(\"center\", d3.forceY(height));\n      function dragstarted(d) {\n        if (!event.active) simulation.alphaTarget(0.3).restart();\n        d.old_fx = d.x;\n        d.old_fy = d.y;\n        d.fx = d.x;\n        d.fy = d.y;\n      }\n      function dragged(d) {\n        d.fx = event.x;\n        d.fy = event.y;\n      }\n      function dragended(d) {\n        if (!event.active) simulation.alphaTarget(0);\n        d.fx = null;\n        d.fy = null;\n        if (d.fixed) {\n          d.fx = d.old_fx;\n          d.fy = d.old_fy;\n        }\n      }\n\n      // Create a drag handler and append it to the node object instead\n      var drag_handler = d3.drag().on(\"start\", dragstarted).on(\"drag\", dragged).on(\"end\", dragended);\n      drag_handler(node);\n      var labels = node.append(\"a\").attr(\"xlink:href\", function (d) {\n        return d.link;\n      }).attr(\"target\", \"_blank\").append(\"text\").text(function (d) {\n        return d.id;\n      }).attr(\"text-anchor\", \"middle\").attr(\"x\", 0).attr(\"y\", 5);\n      node.append(\"title\").text(function (d) {\n        return d.id;\n      });\n      node.on(\"mouseover\", function (d) {\n        circles.filter(function (d2) {\n          return d.group != d2.group;\n        }).attr(\"opacity\", 0.6);\n        link.filter(function (l) {\n          return l.source_group != d.group && l.target_group != d.group;\n        }).attr(\"opacity\", 0.1);\n        labels.filter(function (d2) {\n          return d.group != d2.group;\n        }).attr(\"opacity\", 0.5);\n      });\n\n      // Set the stroke width back to normal when mouse leaves the node.\n      node.on(\"mouseout\", function () {\n        circles.attr(\"opacity\", 1.0);\n        link.attr(\"opacity\", 1.0);\n        labels.attr(\"opacity\", 1.0);\n      });\n      svg.append(\"svg:defs\").selectAll(\"marker\").data([\"end\", \"end_title\"]).enter().append(\"svg:marker\").attr(\"id\", String).attr(\"viewBox\", \"0 -5 10 10\").attr(\"refX\", circle_radius + 10).attr(\"refY\", 0).attr(\"markerWidth\", 5).attr(\"markerHeight\", 5).attr(\"orient\", \"auto\").append(\"svg:path\").attr(\"d\", \"M0,-5L10,0L0,5\");\n      svg.select(\"marker#end_title\").attr(\"refX\", title_circle_radius + 10);\n      simulation.nodes(graph.nodes).on(\"tick\", ticked);\n      simulation.force(\"link\").links(graph.links);\n      function inside_border(d, dim_size, d_coord) {\n        let radius = d.title ? title_circle_radius : circle_radius;\n        return Math.max(radius, Math.min(dim_size - radius, d_coord));\n      }\n      ;\n      function ticked() {\n        node.attr(\"cx\", function (d) {\n          d.x = inside_border(d, width, d.x);\n          return d.x;\n        }).attr(\"cy\", function (d) {\n          d.y = inside_border(d, height, d.y);\n          if (d.group != 1) {\n            d.y = Math.max(d.y, 400);\n          }\n          return d.y;\n        }).attr(\"transform\", function (d) {\n          return \"translate(\" + d.x + \",\" + d.y + \")\";\n        });\n        link.attr(\"x1\", function (d) {\n          return d.source.x;\n        }).attr(\"y1\", function (d) {\n          return d.source.y;\n        }).attr(\"x2\", function (d) {\n          return d.target.x;\n        }).attr(\"y2\", function (d) {\n          return d.target.y;\n        });\n      }\n    });\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n      children: \"Course Map\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 226,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"group_selection\",\n      children: [/*#__PURE__*/_jsxDEV(\"input\", {\n        type: \"checkbox\",\n        id: \"Circuits\",\n        onChange: () => action('Circuits')\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 228,\n        columnNumber: 9\n      }, this), \" Circuits\", /*#__PURE__*/_jsxDEV(\"input\", {\n        type: \"checkbox\",\n        id: \"Devices\",\n        onChange: () => action('Devices')\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 229,\n        columnNumber: 9\n      }, this), \" Devices\", /*#__PURE__*/_jsxDEV(\"input\", {\n        type: \"checkbox\",\n        id: \"Signals/Control\",\n        onChange: () => action('Signals/Control')\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 230,\n        columnNumber: 9\n      }, this), \" Signals/Control\", /*#__PURE__*/_jsxDEV(\"input\", {\n        type: \"checkbox\",\n        id: \"AI/ML\",\n        defaultChecked: true,\n        onChange: () => action('AI/ML')\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 231,\n        columnNumber: 9\n      }, this), \" AI/ML\", /*#__PURE__*/_jsxDEV(\"input\", {\n        type: \"checkbox\",\n        id: \"Theory\",\n        defaultChecked: true,\n        onChange: () => action('Theory')\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 232,\n        columnNumber: 9\n      }, this), \" Theory\", /*#__PURE__*/_jsxDEV(\"input\", {\n        type: \"checkbox\",\n        id: \"Graphics\",\n        onChange: () => action('Graphics')\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 233,\n        columnNumber: 9\n      }, this), \" Graphics\", /*#__PURE__*/_jsxDEV(\"input\", {\n        type: \"checkbox\",\n        id: \"Design\",\n        onChange: () => action('Design')\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 234,\n        columnNumber: 9\n      }, this), \" Design\", /*#__PURE__*/_jsxDEV(\"input\", {\n        type: \"checkbox\",\n        id: \"Architecture\",\n        onChange: () => action('Architecture')\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 235,\n        columnNumber: 9\n      }, this), \" Architecture\", /*#__PURE__*/_jsxDEV(\"input\", {\n        type: \"checkbox\",\n        id: \"Systems\",\n        onChange: () => action('Systems')\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 236,\n        columnNumber: 9\n      }, this), \" Systems\"]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 227,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"h2\", {\n      style: {\n        textAlign: 'center'\n      },\n      children: [\"Get a description of each EECS Academic Area here: \", /*#__PURE__*/_jsxDEV(\"a\", {\n        href: \"https://www2.eecs.berkeley.edu/Research/Areas/\",\n        children: \"EECS Research Areas\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 240,\n        columnNumber: 60\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 239,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"h2\", {\n      style: {\n        textAlign: 'center'\n      },\n      children: /*#__PURE__*/_jsxDEV(\"a\", {\n        href: \"/static/img/course-map-2019.png\",\n        children: \"Image version of the Course Guide\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 244,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 243,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        width: '100%',\n        overflow: 'scroll'\n      },\n      children: /*#__PURE__*/_jsxDEV(\"svg\", {\n        className: \"graph\",\n        width: \"2000\",\n        height: \"1200\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 248,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 247,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 225,\n    columnNumber: 5\n  }, this);\n};\n_s(CourseMap, \"OD7bBpZva5O2jO+Puf00hKivP7c=\");\n_c = CourseMap;\nexport default CourseMap;\nvar _c;\n$RefreshReg$(_c, \"CourseMap\");","map":{"version":3,"names":["React","useEffect","d3","schemeSet2","jsxDEV","_jsxDEV","CourseMap","_s","renderd3","action","group","urlParams","URLSearchParams","window","location","search","groups","get","split","checkbox","document","getElementById","checked","push","index","indexOf","splice","join","history","pushState","newurl","origin","pathname","replaceState","path","reload","svg","select","title_circle_radius","circle_radius","color","scaleOrdinal","schemeCategory10","node_stroke","node_stroke_width","height","width","json","error","graph","link","append","attr","selectAll","data","links","enter","node","nodes","l","found_node","filter","n","id","target","title","_groups","length","circles","d","simulation","forceSimulation","force","forceLink","distance","strength","source","found_links","l2","forceManyBody","forceCollide","radius","forceY","dragstarted","event","active","alphaTarget","restart","old_fx","x","old_fy","y","fx","fy","dragged","dragended","fixed","drag_handler","drag","on","labels","text","d2","source_group","target_group","String","ticked","inside_border","dim_size","d_coord","Math","max","min","children","fileName","_jsxFileName","lineNumber","columnNumber","className","type","onChange","defaultChecked","style","textAlign","href","overflow","_c","$RefreshReg$"],"sources":["/Users/michaelofengenden/Desktop/Aula/app/src/CourseMap.js"],"sourcesContent":["import React, { useEffect } from 'react';\nimport './CourseMap.css';\nimport * as d3 from 'd3';\nimport { schemeSet2 } from 'd3-scale-chromatic';\n\nconst CourseMap = () => {\n  useEffect(() => {\n    renderd3(\"Core,AI/ML,Theory\");\n  }, []);\n\n  const action = (group) => {\n    const urlParams = new URLSearchParams(window.location.search);\n\n    let groups = urlParams.get(\"groups\");\n    if (!groups) {\n      groups = \"Core\";\n    }\n    groups = groups.split(\",\");\n\n    const checkbox = document.getElementById(group);\n    if (checkbox.checked) {\n      groups.push(group);\n    } else {\n      const index = groups.indexOf(group);\n      if (index > -1) {\n        groups.splice(index, 1);\n      }\n    }\n\n    groups = groups.join();\n\n    if (window.history.pushState) {\n      const newurl = `${window.location.origin}${window.location.pathname}?groups=${groups}`;\n      window.history.replaceState({ path: newurl }, \"\", newurl);\n    }\n\n    window.location.reload();\n  };\n  const svg = d3.select(\".graph\");\n  const title_circle_radius = 20;\n  const circle_radius = 10;\n  const color = d3.scaleOrdinal(d3.schemeCategory10);\n  const node_stroke = \"white\";\n  const node_stroke_width = 1.5;\n  const height = 600;\n  const width = 800;\n\n  const renderd3 = (groups) => {\n    d3.json(\"/studentservices/course_guide_data?groups=\" + groups, function(error, graph) {\n        if (error) throw error;\n\n        var link = svg\n            .append(\"g\")\n                .attr(\"class\", \"links\")\n            .selectAll(\"line\")\n                .data(graph.links)\n                .enter().append(\"line\")\n                    .attr(\"stroke-width\", 2);\n\n        var node = svg\n            .append(\"g\")\n                .attr(\"class\", \"nodes\")\n            .selectAll(\"g\")\n                .data(graph.nodes)\n                .enter().append(\"g\");\n\n        // Create the line after the nodes are rendered, dynamic to Node size\n        svg.selectAll(\"line\")\n            .attr(\"marker-end\", function (l) {\n                    let found_node = node.filter((n) => (n.id == l.target && n.title));\n                    if (found_node._groups[0].length > 0) {\n                        return \"url(#end_title)\"\n                    }\n                    return \"url(#end)\";\n                });\n\n        var circles = node\n            .append(\"circle\")\n                .attr(\"r\", function(d) { return (d.title) ? title_circle_radius : circle_radius; })\n                .attr(\"fill\", function(d) { return color(d.group); })\n                .attr(\"stroke\", node_stroke)\n                .attr(\"stroke-width\", node_stroke_width);\n        \n        var simulation = d3.forceSimulation()\n            .force(\"link\", d3.forceLink().id(function(d) { return d.id; })\n                                        .distance(200)\n                                        .strength(function (l) {\n                                            let found_node = graph.nodes.filter((n) => (n.id == l.source.id && n.title));\n                                            let found_links = graph.links.filter(function(l2) {\n                                                    if (l2.target.id == l.target.id) {\n                                                        let found_node = graph.nodes.filter((n) => (n.id == l2.source.id && n.title));\n                                                        return found_node.length == 1;\n                                                    }\n                                                    return false;\n                                            });\n                                            if (found_node.length == 1 && found_links.length == 1) {\n                                                return 7;\n                                            }\n                                            return 2;\n                                        }))\n            .force(\"charge\", d3.forceManyBody().strength(-200))\n            .force(\"collision\", d3.forceCollide().radius(function(d) { \n                return (d.title) ? title_circle_radius : circle_radius;\n            }))\n            .force(\"center\", d3.forceY(height));\n        \n        function dragstarted(d) {\n            if (!event.active) simulation.alphaTarget(0.3).restart();\n\n            d.old_fx = d.x;\n            d.old_fy = d.y;\n\n            d.fx = d.x;\n            d.fy = d.y;\n        }\n\n        function dragged(d) {\n            d.fx = event.x;\n            d.fy = event.y;\n        }\n\n        function dragended(d) {\n            if (!event.active) simulation.alphaTarget(0);\n            d.fx = null;\n            d.fy = null;\n            if (d.fixed) {\n                d.fx = d.old_fx;\n                d.fy = d.old_fy;\n            }\n        }\n\n        // Create a drag handler and append it to the node object instead\n        var drag_handler = d3.drag()\n            .on(\"start\", dragstarted)\n            .on(\"drag\", dragged)\n            .on(\"end\", dragended);\n\n        drag_handler(node);\n\n        var labels = node\n            .append(\"a\")\n                .attr(\"xlink:href\", function (d) { return d.link; })\n                .attr(\"target\", \"_blank\")\n            .append(\"text\")\n                .text(function(d) { return d.id; })\n                .attr(\"text-anchor\", \"middle\")\n                .attr(\"x\", 0)\n                .attr(\"y\", 5);\n\n        node.append(\"title\")\n            .text(function(d) { return d.id; });\n\n        node.on(\"mouseover\", function(d) {\n            circles\n                .filter(function(d2) { return d.group != d2.group; })\n                .attr(\"opacity\", 0.6);\n            link\n                .filter(function(l) {\n                    return (l.source_group != d.group) && (l.target_group != d.group);\n                })\n                .attr(\"opacity\", 0.1);\n            labels\n                .filter(function(d2) { return d.group != d2.group; })\n                .attr(\"opacity\", 0.5);\n        });\n\n        // Set the stroke width back to normal when mouse leaves the node.\n        node.on(\"mouseout\", function() {\n            circles.attr(\"opacity\", 1.0);\n            link.attr(\"opacity\", 1.0);\n            labels.attr(\"opacity\", 1.0);\n        });\n\n        svg.append(\"svg:defs\").selectAll(\"marker\")\n            .data([\"end\", \"end_title\"])\n            .enter().append(\"svg:marker\")\n                .attr(\"id\", String)\n                .attr(\"viewBox\", \"0 -5 10 10\")\n                .attr(\"refX\", circle_radius + 10)\n                .attr(\"refY\", 0)\n                .attr(\"markerWidth\", 5)\n                .attr(\"markerHeight\", 5)\n                .attr(\"orient\", \"auto\")\n            .append(\"svg:path\")\n                .attr(\"d\", \"M0,-5L10,0L0,5\");\n        svg.select(\"marker#end_title\")\n            .attr(\"refX\", title_circle_radius + 10)\n\n        simulation\n            .nodes(graph.nodes)\n            .on(\"tick\", ticked);\n\n        simulation.force(\"link\")\n            .links(graph.links);\n        \n        function inside_border(d, dim_size, d_coord) {\n            let radius = (d.title) ? title_circle_radius : circle_radius;\n            return Math.max(radius, Math.min(dim_size - radius, d_coord));\n        };\n\n        function ticked() {\n            node\n                .attr(\"cx\", function(d) {\n                    d.x = inside_border(d, width, d.x);\n                    return d.x;\n                })\n                .attr(\"cy\", function(d) {\n                    d.y = inside_border(d, height, d.y);\n                    if (d.group != 1) {\n                        d.y = Math.max(d.y, 400);\n                    }\n                    return d.y;\n                })\n                .attr(\"transform\", function(d) { return \"translate(\" + d.x + \",\" + d.y + \")\"; });\n            link\n                .attr(\"x1\", function(d) { return d.source.x; })\n                .attr(\"y1\", function(d) { return d.source.y; })\n                .attr(\"x2\", function(d) { return d.target.x; })\n                .attr(\"y2\", function(d) { return d.target.y; });\n        }\n    });\n  };\n\n  return (\n    <div>\n      <h2>Course Map</h2>\n      <div className=\"group_selection\">\n        <input type=\"checkbox\" id=\"Circuits\" onChange={() => action('Circuits')} /> Circuits\n        <input type=\"checkbox\" id=\"Devices\" onChange={() => action('Devices')} /> Devices\n        <input type=\"checkbox\" id=\"Signals/Control\" onChange={() => action('Signals/Control')} /> Signals/Control\n        <input type=\"checkbox\" id=\"AI/ML\" defaultChecked onChange={() => action('AI/ML')} /> AI/ML\n        <input type=\"checkbox\" id=\"Theory\" defaultChecked onChange={() => action('Theory')} /> Theory\n        <input type=\"checkbox\" id=\"Graphics\" onChange={() => action('Graphics')} /> Graphics\n        <input type=\"checkbox\" id=\"Design\" onChange={() => action('Design')} /> Design\n        <input type=\"checkbox\" id=\"Architecture\" onChange={() => action('Architecture')} /> Architecture\n        <input type=\"checkbox\" id=\"Systems\" onChange={() => action('Systems')} /> Systems\n      </div>\n\n      <h2 style={{ textAlign: 'center' }}>\n        Get a description of each EECS Academic Area here: <a href=\"https://www2.eecs.berkeley.edu/Research/Areas/\">EECS Research Areas</a>\n      </h2>\n\n      <h2 style={{ textAlign: 'center' }}>\n        <a href=\"/static/img/course-map-2019.png\">Image version of the Course Guide</a>\n      </h2>\n\n      <div style={{ width: '100%', overflow: 'scroll' }}>\n        <svg className=\"graph\" width=\"2000\" height=\"1200\"></svg>\n      </div>\n    </div>\n  );\n};\n\nexport default CourseMap;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}